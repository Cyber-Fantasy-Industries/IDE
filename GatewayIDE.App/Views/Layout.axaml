<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:views="clr-namespace:GatewayIDE.App.Views"
             xmlns:dash="clr-namespace:GatewayIDE.App.Views.Dashboard"
             xmlns:docker="clr-namespace:GatewayIDE.App.Views.Docker"
             xmlns:explorer="clr-namespace:GatewayIDE.App.Views.Explorer"
             xmlns:engines="clr-namespace:GatewayIDE.App.Views.Engines"
             xmlns:github="clr-namespace:GatewayIDE.App.Views.GitHub"
             xmlns:net="clr-namespace:GatewayIDE.App.Views.Network"
             xmlns:settings="clr-namespace:GatewayIDE.App.Views.Settings"
             xmlns:chat="clr-namespace:GatewayIDE.App.Views.Chat"
             xmlns:ki="clr-namespace:GatewayIDE.App.Views.KiSystem"
             x:Class="GatewayIDE.App.Views.Layout">

  <Grid ColumnDefinitions="56,Auto,*"
        Background="#0f0f0f">

    <!-- LeftRail -->
    <views:LeftRail Grid.Column="0"/>

    <!-- SidePanel -->
    <chat:SidePanel Grid.Column="1"/>

    <!-- Workspace -->
    <Grid Grid.Column="2"
        Background="#0f0f0f"
        RowDefinitions="*"
        ColumnDefinitions="*">

    <net:NetworkPanel
        DataContext="{Binding Network}"
        IsVisible="{Binding Layout.IsNetwork, FallbackValue=False}" />

    <docker:DockerPanel
        DataContext="{Binding Docker}"
        IsVisible="{Binding Layout.IsDocker, FallbackValue=False}" />

    <dash:DashboardPanel
        DataContext="{Binding}" 
        IsVisible="{Binding Layout.IsDashboard, FallbackValue=False}" />

    <engines:EnginesPanel
        DataContext="{Binding Engines}"
        IsVisible="{Binding Layout.IsEngines, FallbackValue=False}" />

    <explorer:ExplorerPanel
        DataContext="{Binding Explorer}"
        IsVisible="{Binding Layout.IsExplorer, FallbackValue=False}" />

    <github:GitHubPanel
        DataContext="{Binding GitHub}"
        IsVisible="{Binding Layout.IsGitHub, FallbackValue=False}" />

    <ki:KiSystemPanel
        DataContext="{Binding KiSystem}"
        IsVisible="{Binding Layout.IsKiSystem, FallbackValue=False}" />

    <settings:SettingsPanel
        DataContext="{Binding Settings}"
        IsVisible="{Binding Layout.IsSettings, FallbackValue=False}" />

    <!-- Fallback -->
    <Border IsVisible="{Binding Layout.IsNone}"
            BorderBrush="#444"
            BorderThickness="1"
            Margin="12"
            Padding="12"
            Background="#141414">
        <StackPanel Spacing="6">
        <TextBlock Foreground="#fff"
                    FontSize="16"
                    FontWeight="SemiBold"
                    Text="âš  Kein Panel aktiv (Tab-Mismatch)"/>
        <TextBlock Foreground="#ddd"
                    Text="{Binding Layout.ActiveTab, StringFormat='ActiveTab: {0}'}"/>
        </StackPanel>
    </Border>

    </Grid>




  </Grid>
</UserControl>
